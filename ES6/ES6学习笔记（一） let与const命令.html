<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Joey Studio</title>
    <meta name="description" content="Joey Studio">
    <link rel="icon" href="/icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.fb6ef450.css" as="style"><link rel="preload" href="/assets/js/app.90032a51.js" as="script"><link rel="preload" href="/assets/js/6.f937cbb4.js" as="script"><link rel="prefetch" href="/assets/js/2.5a98a6a1.js"><link rel="prefetch" href="/assets/js/3.b5328e1b.js"><link rel="prefetch" href="/assets/js/4.40de6c06.js"><link rel="prefetch" href="/assets/js/5.a7dcf9c5.js"><link rel="prefetch" href="/assets/js/7.c4f7c54b.js"><link rel="prefetch" href="/assets/js/8.5d6c7a02.js"><link rel="prefetch" href="/assets/js/9.a356cbd1.js"><link rel="prefetch" href="/assets/js/10.ad74828c.js"><link rel="prefetch" href="/assets/js/11.febff9ad.js"><link rel="prefetch" href="/assets/js/12.965a7db6.js"><link rel="prefetch" href="/assets/js/13.ff464b4a.js"><link rel="prefetch" href="/assets/js/14.77211fa2.js"><link rel="prefetch" href="/assets/js/15.a8ebaf23.js"><link rel="prefetch" href="/assets/js/16.1c808406.js"><link rel="prefetch" href="/assets/js/17.eb2609ad.js"><link rel="prefetch" href="/assets/js/18.a57c4dcb.js"><link rel="prefetch" href="/assets/js/19.45de9095.js"><link rel="prefetch" href="/assets/js/20.3890a0dc.js"><link rel="prefetch" href="/assets/js/21.12c4cf59.js"><link rel="prefetch" href="/assets/js/22.83f70874.js"><link rel="prefetch" href="/assets/js/23.6912cfc1.js"><link rel="prefetch" href="/assets/js/24.547c12d4.js"><link rel="prefetch" href="/assets/js/25.ea4c2b82.js"><link rel="prefetch" href="/assets/js/26.9137f71d.js"><link rel="prefetch" href="/assets/js/27.769a107f.js"><link rel="prefetch" href="/assets/js/28.d0a482c4.js"><link rel="prefetch" href="/assets/js/29.860aeae4.js"><link rel="prefetch" href="/assets/js/30.fe511a2a.js"><link rel="prefetch" href="/assets/js/31.6ab4ce31.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fb6ef450.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Joey Studio</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/Web/" class="nav-link">工具</a></div><div class="nav-item"><a href="/SpringCloud/" class="nav-link">微服务</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><a href="https://github.com/slowside45" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/Web/" class="nav-link">工具</a></div><div class="nav-item"><a href="/SpringCloud/" class="nav-link">微服务</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><a href="https://github.com/slowside45" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><p>[TOC]</p> <h2 id="let语句"><a href="#let语句" aria-hidden="true" class="header-anchor">#</a> let语句</h2> <h3 id="_1-声明"><a href="#_1-声明" aria-hidden="true" class="header-anchor">#</a> 1. 声明</h3> <h6 id="es6-新增了let命令，用来声明变量。它的用法类似于var，但是所声明的变量，只在let命令所在的代码块内有效。"><a href="#es6-新增了let命令，用来声明变量。它的用法类似于var，但是所声明的变量，只在let命令所在的代码块内有效。" aria-hidden="true" class="header-anchor">#</a> ES6 新增了let命令，用来声明变量。它的用法类似于var，但是所声明的变量，只在let命令所在的代码块内有效。</h6> <div class="language- extra-class"><pre class="language-text"><code>{
  let a = 10;
  var b = 1;
}

a // ReferenceError: a is not defined.
b // 1
</code></pre></div><hr> <h3 id="_2-for循中的let"><a href="#_2-for循中的let" aria-hidden="true" class="header-anchor">#</a> 2.for循中的let</h3> <p>在for循环中，若在设置循环次数变量时，用let声明，该变量就只在本轮循环有效，每一次的循环，都会有一个新的变量i。</p> <h5 id="用var声明循环变量"><a href="#用var声明循环变量" aria-hidden="true" class="header-anchor">#</a> 用var声明循环变量</h5> <div class="language- extra-class"><pre class="language-text"><code>var a = [];
for (var i = 0; i &lt; 10; i++) {
  a[i] = function () {
    console.log(i);
  };
}
a[6](); // 10
</code></pre></div><ul><li>因为变量i是用var声明的，所以全局只有一个i,每一次循环，i的值都会发生变化。a[i]中和console.log(i)中的i指向的是同一个i。</li> <li>循环结束后数组a的值是方法console.log(i)的返回值，该返回值在循环结束后是10</li></ul> <div class="language- extra-class"><pre class="language-text"><code>graph TD
A[数组a中的每个元素] --&gt; B[i]
</code></pre></div><h5 id="用let声明循环体内部变量"><a href="#用let声明循环体内部变量" aria-hidden="true" class="header-anchor">#</a> 用let声明循环体内部变量</h5> <div class="language- extra-class"><pre class="language-text"><code>var a = [];
for (let i=0; i &lt; 10; i++){
    a[i] = function () {
        console.log(i);
    };
}
a[6](); //6
</code></pre></div><ul><li><p>这里使用let来声明变量i，则每次循环都会有一个新的变量i，数组a中每个元素指向一个不同的变量i。</p></li> <li><p>JS的引擎会自动存储上一轮循环的值，初始化本轮i的值时，就在上一轮的值的基础上继续计算</p></li></ul> <h3 id="_3-在for循环中，循环变量和循环体内部变量有独立的作用域"><a href="#_3-在for循环中，循环变量和循环体内部变量有独立的作用域" aria-hidden="true" class="header-anchor">#</a> 3. 在for循环中，循环变量和循环体内部变量有独立的作用域</h3> <div class="language- extra-class"><pre class="language-text"><code>for (let i = 0; i &lt; 3; i++) {
  let i = 'abc';
  console.log(i);
}
// abc
// abc
// abc
</code></pre></div><p>设置循环的部分是父作用域，循环体内部是子作用域。父作用域会被子作用域覆盖。</p> <h3 id="_4-不存在变量提升"><a href="#_4-不存在变量提升" aria-hidden="true" class="header-anchor">#</a> 4.不存在变量提升</h3> <p>JavaScript的函数定义有个特点，它会先扫描整个函数体的语句，把所有申明的变量“提升”到函数顶部。</p> <ul><li>在非严格模式下，变量和其赋值都会被提升到顶部</li> <li>在严格模式下，只有变量的声明会被提升到顶部，其赋值不会被提升到顶部。</li></ul> <p>使用var命令，可以使变量在被声明之前被使用，只不过值是undefined。
在ES6中，必须先用let声明对象后，再使用变量。否则会报错ReferenceError。</p> <h3 id="_5-暂时性死区-tdz"><a href="#_5-暂时性死区-tdz" aria-hidden="true" class="header-anchor">#</a> 5. 暂时性死区 TDZ</h3> <p>只要在块级作用域中出现let命令，它所声明的变量就绑定了该作用域，在该let命令声明变量前不得使用该变量，即便是在块级作用域外部已经声明过也不行。</p> <div class="language- extra-class"><pre class="language-text"><code>if (true) {
  // TDZ开始
  tmp = 'abc'; // ReferenceError
  console.log(tmp); // ReferenceError

  let tmp; // TDZ结束
  console.log(tmp); // undefined

  tmp = 123;
  console.log(tmp); // 123
}
</code></pre></div><h3 id="_6-不允许重复声明"><a href="#_6-不允许重复声明" aria-hidden="true" class="header-anchor">#</a> 6. 不允许重复声明</h3> <ul><li>let不允许在相同作用域内，重复声明同一个变量。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 报错
function func() {
  let a = 10;
  var a = 1;
}

// 报错
function func() {
  let a = 10;
  let a = 1;
}
</code></pre></div><ul><li>因此，不能在函数内部重新声明参数。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function func(arg) {
  let arg; // 报错
}

function func(arg) {
  {
    let arg; // 不报错
  }
}
</code></pre></div><ul><li>内层作用域可以定义外层作用域的同名变量。这样的情况，不属于重复声明变量。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{{{{
  let insane = 'Hello World';
  {let insane = 'Hello World'}
}}}};
</code></pre></div><h3 id="_7-块级作用域"><a href="#_7-块级作用域" aria-hidden="true" class="header-anchor">#</a> 7.块级作用域</h3> <ul><li>由于let的作用域仅在当前块级内，不同的块级作用域分离。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>function f1() {
  let n = 5;
  if (true) {
    let n = 10;
  }
  console.log(n); // 5
}
</code></pre></div><ul><li><p>上面的函数有两个代码块，都声明了变量n，运行后输出 5。这表示外层代码块不受内层代码块的影响。如果两次都使用var定义变量n，最后输出的值才是 10。</p></li> <li><p>在块级作用域内声明函数，需注意两点：</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>1. 写成函数表达式，而不是函数声明语句
// 函数声明语句
{
  let a = 'secret';
  function f() {
    return a;
  }
}

// 函数表达式
{
  let a = 'secret';
  let f = function () {
    return a;
  };
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>2. 函数体外部一定要嵌套大括号
// 不报错
'use strict';
if (true) {
  function f() {}
}

// 报错
'use strict';
if (true)
  function f() {}
</code></pre></div><h2 id="const命令"><a href="#const命令" aria-hidden="true" class="header-anchor">#</a> const命令</h2> <h3 id="_1-声明-2"><a href="#_1-声明-2" aria-hidden="true" class="header-anchor">#</a> 1.声明</h3> <ul><li>一经声明，就必须赋值，否则会报错。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>const a;//error
const a = 1;
</code></pre></div><ul><li>const类型变量，一经声明，不可更改。</li> <li>其余属性与let相似。</li></ul> <h3 id="_2-只读属性的本质"><a href="#_2-只读属性的本质" aria-hidden="true" class="header-anchor">#</a> 2. 只读属性的本质</h3> <p>并不是const变量的值不可改变，而是const变量指向的对象所属的内存地址不可改变。</p> <ul><li>对于简单类型的变量，如字符等，值就保存在变量所指的内存地址。所以可以简单类型的变量可看成常亮。</li> <li>对于复杂类型的变量，如数组，对象，变量指向的内存地址中，只保存着指针，而指针才指向具体的值，所以const命令只能保证这个内存地址中的指针不变，而不能保证指针所指的具体值不变。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Eg1:
const foo = {};

// 为 foo 添加一个属性，可以成功
foo.prop = 123;
foo.prop // 123

// 将 foo 指向另一个对象，就会报错
foo = {}; // TypeError: &quot;foo&quot; is read-only
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>Eg2:
const a = [];
a.push('Hello'); // 可执行
a.length = 0;    // 可执行
a = ['Dave'];    // 报错
</code></pre></div><h2 id="顶层对象的属性"><a href="#顶层对象的属性" aria-hidden="true" class="header-anchor">#</a> 顶层对象的属性</h2> <p>用var声明全局变量等同于为顶层对象的属性赋值。</p> <div class="language- extra-class"><pre class="language-text"><code>var a = 1;
window.a; //1
</code></pre></div><p>用let,const声明全局变量，不等同于为顶层对象的属性赋值。</p> <div class="language- extra-class"><pre class="language-text"><code>let b = 1;
window.b; //undefined
const c = 1；
window.c; //undefined
</code></pre></div><h2 id="global对象"><a href="#global对象" aria-hidden="true" class="header-anchor">#</a> global对象</h2> <p><strong>顶层对象</strong></p> <div class="language- extra-class"><pre class="language-text"><code>graph LR
A[浏览器] --&gt; B[window]
D[node] --&gt; C[global]
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/6.f937cbb4.js" defer></script><script src="/assets/js/app.90032a51.js" defer></script>
  </body>
</html>
