<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Joey Studio</title>
    <meta name="description" content="Joey Studio">
    <link rel="icon" href="/icon.png">
    
    <link rel="preload" href="/assets/css/0.styles.fb6ef450.css" as="style"><link rel="preload" href="/assets/js/app.90032a51.js" as="script"><link rel="preload" href="/assets/js/8.5d6c7a02.js" as="script"><link rel="prefetch" href="/assets/js/2.5a98a6a1.js"><link rel="prefetch" href="/assets/js/3.b5328e1b.js"><link rel="prefetch" href="/assets/js/4.40de6c06.js"><link rel="prefetch" href="/assets/js/5.a7dcf9c5.js"><link rel="prefetch" href="/assets/js/6.f937cbb4.js"><link rel="prefetch" href="/assets/js/7.c4f7c54b.js"><link rel="prefetch" href="/assets/js/9.a356cbd1.js"><link rel="prefetch" href="/assets/js/10.ad74828c.js"><link rel="prefetch" href="/assets/js/11.febff9ad.js"><link rel="prefetch" href="/assets/js/12.965a7db6.js"><link rel="prefetch" href="/assets/js/13.ff464b4a.js"><link rel="prefetch" href="/assets/js/14.77211fa2.js"><link rel="prefetch" href="/assets/js/15.a8ebaf23.js"><link rel="prefetch" href="/assets/js/16.1c808406.js"><link rel="prefetch" href="/assets/js/17.eb2609ad.js"><link rel="prefetch" href="/assets/js/18.a57c4dcb.js"><link rel="prefetch" href="/assets/js/19.45de9095.js"><link rel="prefetch" href="/assets/js/20.3890a0dc.js"><link rel="prefetch" href="/assets/js/21.12c4cf59.js"><link rel="prefetch" href="/assets/js/22.83f70874.js"><link rel="prefetch" href="/assets/js/23.6912cfc1.js"><link rel="prefetch" href="/assets/js/24.547c12d4.js"><link rel="prefetch" href="/assets/js/25.ea4c2b82.js"><link rel="prefetch" href="/assets/js/26.9137f71d.js"><link rel="prefetch" href="/assets/js/27.769a107f.js"><link rel="prefetch" href="/assets/js/28.d0a482c4.js"><link rel="prefetch" href="/assets/js/29.860aeae4.js"><link rel="prefetch" href="/assets/js/30.fe511a2a.js"><link rel="prefetch" href="/assets/js/31.6ab4ce31.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fb6ef450.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Joey Studio</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/Web/" class="nav-link">工具</a></div><div class="nav-item"><a href="/SpringCloud/" class="nav-link">微服务</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><a href="https://github.com/slowside45" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><a href="/Web/" class="nav-link">工具</a></div><div class="nav-item"><a href="/SpringCloud/" class="nav-link">微服务</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于我</a></div><div class="nav-item"><a href="https://github.com/slowside45" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <!----> </div> <div class="page"> <div class="content"><p>[TOC]</p> <h2 id="函数的length属性"><a href="#函数的length属性" aria-hidden="true" class="header-anchor">#</a> 函数的length属性</h2> <ul><li>指定了默认值以后，函数的length属性，将返回没有指定默认属性的参数的个数。</li> <li>如果指定了默认值的参数不是尾参数，那么length属性不会把该参数之后的参数个数计入</li> <li>如果指定了首参数的默认值，那么length属性为0。因为后面的参数个数不会计入length。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>(function(...args){}).length //0
</code></pre></div><h2 id="一、作用域"><a href="#一、作用域" aria-hidden="true" class="header-anchor">#</a> 一、作用域</h2> <p>只要在函数的构造部分==声明了参数==，==并为参数设定了默认值==，函数进行声明和初始化时，参数会形成一个单独的作用域。</p> <ul><li>在此作用域内，即使该参数名称与全局变量冲突，也以该作用域中该参数的值为主。</li> <li>如果没有在函数的构造部分==声明参数==，==只给参数设定了默认值==，那么该参数会指向全局中具有相同名称的全局变量，如果没有对应的全局变量，则会报错。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var x = 1;
function f(x,y=x){
    console.log(y);
}
f(2) //2
</code></pre></div><p>在此代码中，当函数被调用，会形成一个单独的作用域。在此作用域内，变量x=2将作为y的值，而不是全局变量x=1.</p> <div class="language- extra-class"><pre class="language-text"><code>let x = 1;
function f(y=x){
    let x = 2;
    console.log(y);
}
f() //1
</code></pre></div><p>在此代码中，给函数参数y设定了默认值x，但没有去声明参数x，所以没有形成一个单独的作用域。</p> <p>尽管在函数内有变量x=2，但是在函数被调用时，默认值y=x会指向函数外部的全局变量。</p> <div class="language- extra-class"><pre class="language-text"><code>var x = 1;
function foo(x, y = function() { x = 2; }) {
  var x = 3;
  y();
  console.log(x);
}

foo() // 3
x // 1
</code></pre></div><p>三个不同的作用域：</p> <p>1️⃣ 全局变量x=1</p> <p>2️⃣ 首参数x与参数y的内部匿名函数</p> <p>3️⃣ foo函数内部的 var x = 3</p> <p>var x与foo(x,y)不是同一个x，作用域也不同，在foo函数的输出部分，console.log(x)指向的是foo函数内部的var x = 3.</p> <div class="language- extra-class"><pre class="language-text"><code>var x = 1;
function foo(x, y = function() { x = 2; }) {
  x = 3;
  y();
  console.log(x);
}

foo() // 2
x // 1
</code></pre></div><p>把foo函数内部的var去掉以后，foo函数内部的x指向的就是参数x。</p> <h2 id="二、实际应用"><a href="#二、实际应用" aria-hidden="true" class="header-anchor">#</a> 二、实际应用</h2> <h4 id="_1-利用参数默认值，使某个参数被省略时抛出异常"><a href="#_1-利用参数默认值，使某个参数被省略时抛出异常" aria-hidden="true" class="header-anchor">#</a> 1. 利用参数默认值，使某个参数被省略时抛出异常</h4> <div class="language- extra-class"><pre class="language-text"><code>function throwIfMissing(){
   throw new Error('Missing parameter'); 
}
function foo(mustProvided = throwIfMissing){
    return mustProvided;
}
foo(); //throw error
</code></pre></div><ul><li>当运行foo函数时，如果没有提供mustProvided参数，则函数参数默认值 -- throwIfMissing将会被执行，抛出异常。</li> <li>相反地，如果需要标注某个参数可以被省略，那么就把它的默认值设为 ==undefined==</li></ul> <h4 id="_2-rest参数"><a href="#_2-rest参数" aria-hidden="true" class="header-anchor">#</a> 2. rest参数</h4> <p>rest参数形式为 ...变量名， 用于获取该函数中该变量之前的参数(也包括它自身),并把它们打包成一个数组。这样可以不用使用arguments对象。
==注意:== rest参数不可放在中间，只能放在末尾</p> <p><strong>arguments与rest变量的区别</strong></p> <ul><li>rest参数只包括那些没有给出名称的参数，arguments包含所有参数；</li> <li>arguments对象不是真正的array，而rest参数是Array的实例，可以直接应用sort, map, forEach, pop等方法；</li> <li>arguments对象拥有一些自己额外的功能。</li></ul> <hr> <p>==求和函数==</p> <div class="language- extra-class"><pre class="language-text"><code>    function sum(...rest){
        let sum = 0;
        for(var a of rest){
            sum += rest;
        }
        return sum;
    }
    sum(1,2,3); //6
</code></pre></div><hr> <p>==数组元素push==</p> <div class="language- extra-class"><pre class="language-text"><code>    function push(arr,...items){
        items.forEach(function(item){
            arr.push(item);
            console.log(item);
        });
    }
    var a = [];
    push(a,1,2,3);
</code></pre></div><hr> <h2 id="三-严格模式"><a href="#三-严格模式" aria-hidden="true" class="header-anchor">#</a> 三. 严格模式</h2> <ul><li>只要函数参数用了默认值，解构赋值，或扩展运算符，那么在函数内都不能显示设定严格模式  ('use strict')</li></ul> <p><strong>两种解决方法：</strong></p> <ol><li>在全局设置严格模式</li> <li>在函数外嵌套一个无参立即执行的父函数，在父函数中设定严格模式。</li></ol> <h2 id="四-name属性"><a href="#四-name属性" aria-hidden="true" class="header-anchor">#</a> 四. name属性</h2> <ul><li>函数的name属性，代表着该函数的函数名,而对于匿名函数，ES5和ES6有一些不同：</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var f = function(){
    //ES5
    f.name;//''
    //ES6
    f.name; //'f'
}
</code></pre></div><ul><li>Function构造函数返回的函数实例，name属性的值为==anonymous==</li> <li>bind返回的函数，name属性值会加上==bound==前缀</li></ul> <h2 id="五-arrow-函数"><a href="#五-arrow-函数" aria-hidden="true" class="header-anchor">#</a> 五. Arrow 函数</h2> <p>作为没有方法名的函数最合适</p> <h3 id="_1-单参数"><a href="#_1-单参数" aria-hidden="true" class="header-anchor">#</a> 1. 单参数</h3> <div class="language- extra-class"><pre class="language-text"><code>var f = v =&gt; v;
</code></pre></div><p>等同于：</p> <div class="language- extra-class"><pre class="language-text"><code>var f = function(v){
    return v;
};
</code></pre></div><h3 id="_2-不需要参数"><a href="#_2-不需要参数" aria-hidden="true" class="header-anchor">#</a> 2. 不需要参数</h3> <div class="language- extra-class"><pre class="language-text"><code>var f = () =&gt; 5;
或
var f = _ =&gt; 5;
</code></pre></div><p>等同于：</p> <div class="language- extra-class"><pre class="language-text"><code>var f= function(){
    return 5;
}
</code></pre></div><h3 id="_3-多个参数"><a href="#_3-多个参数" aria-hidden="true" class="header-anchor">#</a> 3. 多个参数</h3> <div class="language- extra-class"><pre class="language-text"><code>var f = (num1,num2) =&gt; num1+num2;
</code></pre></div><p>等同于：</p> <div class="language- extra-class"><pre class="language-text"><code>var f = function(num1,num2){
    return num1+num2;
}
</code></pre></div><h3 id="_4-返回值个数大于1-返回一个对象"><a href="#_4-返回值个数大于1-返回一个对象" aria-hidden="true" class="header-anchor">#</a> 4. 返回值个数大于1(返回一个对象)</h3> <div class="language- extra-class"><pre class="language-text"><code>//报错
let cache = id =&gt; {id:id, name: 'temp'}
//花括号需加上括号
let cache = id =&gt; ({id:id, name: 'temp'})
</code></pre></div><p>本来是作为一个对象返回，但是如果只用花括号括起来，就会被解析成一段代码块，一段代码块是无法直接返回的，所以需要用括号括起来，才能被解析为一个对象。</p> <h3 id="_5-与变量解构结合使用"><a href="#_5-与变量解构结合使用" aria-hidden="true" class="header-anchor">#</a> 5. 与变量解构结合使用</h3> <div class="language- extra-class"><pre class="language-text"><code>const full = ({first,last}) =&gt; first+'解构'+last;
</code></pre></div><p>等同于</p> <div class="language- extra-class"><pre class="language-text"><code>const full = function(person){
    return person.first+'解构'+person.last;
}
</code></pre></div><ul><li>[x] 原来参数不是first和last吗，怎么成了对象的属性？</li></ul> <div class="language- extra-class"><pre class="language-text"><code>person对象只是一个形参，传入的参数({first,last})是一个对象参数，这个对象参数可以与任意对象匹配，person只是举个例子。first，last是对象的属性。
</code></pre></div><h3 id="_6-简单数组操作"><a href="#_6-简单数组操作" aria-hidden="true" class="header-anchor">#</a> 6. 简单数组操作</h3> <div class="language- extra-class"><pre class="language-text"><code>// Easy array filtering, mapping, ...  
  
var arr = [5, 6, 13, 0, 1, 18, 23];  
var sum = arr.reduce((a, b) =&gt; a + b);  // 66  
var even = arr.filter(v =&gt; v % 2 == 0); // [6, 0, 18]  
var double = arr.map(v =&gt; v * 2);       // [10, 12, 26, 0, 2, 36, 46]  
</code></pre></div><h3 id="_7-箭头函数使用注意事项"><a href="#_7-箭头函数使用注意事项" aria-hidden="true" class="header-anchor">#</a> 7. 箭头函数使用注意事项</h3> <p>(1) 函数体内的this总是指向函数执行时所在的对象，而不是谁调用它，this指向谁
Eg:</p> <div class="language- extra-class"><pre class="language-text"><code>function foo(){
    setTimeOut(() =&gt; {
        console.log('id',this.id);
    },100);
}
var id = 21;
foo.call({id: 42}); //42
</code></pre></div><p>在此代码中，函数foo的参数是一个箭头函数setTimeOut(), 其中的this.id指向的是foo对象的id</p> <p>(2) 不可用new创建箭头函数</p> <p>(3) 不可使用arguments对象，因为箭头函数体内没有这个对象，可用rest参数代替</p> <p>Eg:</p> <div class="language- extra-class"><pre class="language-text"><code>function replace(...params){
    //使用arguments,函数形参可以不设置
    console.log(arguments[2],arguments[0],arguments[1]);
    //使用rest
    console.log(params[2],params[0],params[1]);
    
}
replace(2,4,6); //6 2 4
var replace = (...params) ==&gt; ({params[2],params[0],params[1]})
</code></pre></div><h2 id="六、函数绑定运算符"><a href="#六、函数绑定运算符" aria-hidden="true" class="header-anchor">#</a> 六、函数绑定运算符</h2> <p><strong>函数绑定运算符是一组双冒号</strong> ( : : ), <strong>双冒号左边是一个对象，右边是一个函数，这个运算符表示将左边的对象作为上下文环境，绑定在右边的函数上</strong></p> <ul><li>如果双冒号左边为空，右边是一个对象的方法，则等于将该方法绑定在右边的对象上。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var method = :: console.log;

==&gt;等同于

var method = console.log.bind(console);
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/8.5d6c7a02.js" defer></script><script src="/assets/js/app.90032a51.js" defer></script>
  </body>
</html>
